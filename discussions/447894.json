[
  {
    "Id": "1059929",
    "ThreadId": "447894",
    "Html": "When switching to the Dark Theme the contents of one of my ListBoxes doesn't change it's TextBlock font colour to match. It stays black. \r<br />\n<br />\nI'm using a datatempate for the most part, I've narrowed it down to the following which is not part of the datatemplate but part of the ListBox itself in WPF.\r<br />\n<br />\nExtract<br />\n<pre><code>  &lt;Style TargetType=&quot;{x:Type ListBoxItem}&quot;&gt;\n                    &lt;Style.Triggers&gt;\n                        &lt;Trigger Property=&quot;IsKeyboardFocusWithin&quot; Value=&quot;True&quot;&gt;\n                            &lt;Setter Property=&quot;IsSelected&quot; Value=&quot;True&quot; /&gt;\n                        &lt;/Trigger&gt;                        \n                    &lt;/Style.Triggers&gt;\n                &lt;/Style&gt;</code></pre>\n\nFull WPF for listbox and Template<br />\n<pre><code> &lt;UserControl.Resources&gt;\n        &lt;db:MediaAsset x:Key=&quot;MediaAsset&quot;/&gt;\n       \n        &lt;DataTemplate x:Key=&quot;MediaAssetItemTemplate&quot;&gt;            \n                &lt;ListBoxItem Height=&quot;70&quot; Name=&quot;ListBoxItem&quot; Margin=&quot;0,0,0,0&quot;&gt;                    \n                &lt;DockPanel Margin=&quot;0,0,0,0&quot; Height=&quot;65&quot;&gt;                    \n                    &lt;DockPanel DockPanel.Dock=&quot;Left&quot; Name=&quot;VideoImage2&quot; Height=&quot;65&quot; Width=&quot;102&quot;&gt;\n                        &lt;Button Name=&quot;ListBoxItemSelect&quot; Click=&quot;ButtonBase_OnClick&quot; Tag=&quot;{Binding Path=Id}&quot;&gt;\n                            &lt;Path Name=&quot;test&quot; Width=&quot;38&quot; Height=&quot;30.0833&quot; Canvas.Left=&quot;19&quot; Canvas.Top=&quot;22.1667&quot; Stretch=&quot;Fill&quot; Fill=&quot;#FF000000&quot; Data=&quot;F1 M 19,34.8333L 22.1667,34.8333L 22.1667,42.75L 19,42.75L 19,34.8333 Z M 22.9583,34.0417L 49.4791,34.0417L 49.4791,38L 50.6667,38L 57,31.6667L 57,52.25L 50.6667,45.9167L 49.4791,45.9167L 49.4791,52.25L 22.9583,52.25L 22.9583,34.0417 Z M 29.2917,22.1667C 32.3522,22.1667 34.8333,24.6478 34.8333,27.7083C 34.8333,30.7689 32.3522,33.25 29.2917,33.25C 26.2311,33.25 23.75,30.7689 23.75,27.7083C 23.75,24.6478 26.2311,22.1667 29.2917,22.1667 Z M 41.9583,22.1667C 45.0189,22.1667 47.5,24.6478 47.5,27.7083C 47.5,30.7689 45.0189,33.25 41.9583,33.25C 38.8977,33.25 36.4167,30.7689 36.4167,27.7083C 36.4167,24.6478 38.8977,22.1667 41.9583,22.1667 Z &quot;/&gt;                          \n                        &lt;/Button&gt;\n                    &lt;/DockPanel&gt;\n                    &lt;DockPanel Dock=&quot;Left&quot; Name=&quot;VideoData2&quot; HorizontalAlignment=&quot;Stretch&quot; Height=&quot;65&quot;&gt;\n                        &lt;TextBlock Name=&quot;Title&quot; DockPanel.Dock=&quot;Top&quot; Text=&quot;{Binding Path=Title}&quot; FontWeight=&quot;Bold&quot; FontSize=&quot;18&quot;&gt;&lt;/TextBlock&gt;\n                        &lt;TextBlock DockPanel.Dock=&quot;Top&quot; TextTrimming=&quot;CharacterEllipsis&quot; Text=&quot;{Binding Path=Description}&quot; TextWrapping=&quot;NoWrap&quot;  FontSize=&quot;13&quot; Margin=&quot;0,0,0,0&quot;/&gt;\n                        &lt;StackPanel DockPanel.Dock=&quot;Top&quot; Orientation=&quot;Horizontal&quot;&gt;\n                            &lt;TextBlock Text=&quot;{Binding Path=VideoCatNane}&quot; FontSize=&quot;12&quot; FontStyle=&quot;Italic&quot;/&gt;\n                            &lt;Border Width=&quot;50&quot;&gt;&lt;/Border&gt;\n                            &lt;TextBlock Text=&quot;{Binding Path=MediaState}&quot; FontSize=&quot;12&quot;/&gt;\n                        &lt;/StackPanel&gt;\n                    &lt;/DockPanel&gt;                 \n                &lt;/DockPanel&gt;\n            &lt;/ListBoxItem&gt;\n        &lt;/DataTemplate&gt;      \n    &lt;/UserControl.Resources&gt;\n\n&lt;ListBox Name=&quot;ListBoxManageMedia&quot; ItemsSource=&quot;{Binding Source={StaticResource MediaAsset}}&quot; ItemTemplate=&quot;{StaticResource MediaAssetItemTemplate}&quot; HorizontalContentAlignment=&quot;Stretch&quot; Margin=&quot;10,52,10,41&quot; ScrollViewer.VerticalScrollBarVisibility=&quot;Visible&quot; ScrollViewer.HorizontalScrollBarVisibility=&quot;Disabled&quot;&gt;\n           &lt;ListBox.ItemContainerStyle&gt;\n                &lt;Style TargetType=&quot;{x:Type ListBoxItem}&quot;&gt;\n                    &lt;Style.Triggers&gt;\n                        &lt;Trigger Property=&quot;IsKeyboardFocusWithin&quot; Value=&quot;True&quot;&gt;\n                            &lt;Setter Property=&quot;IsSelected&quot; Value=&quot;True&quot; /&gt;\n                        &lt;/Trigger&gt;                        \n                    &lt;/Style.Triggers&gt;\n                &lt;/Style&gt;\n            &lt;/ListBox.ItemContainerStyle&gt;\n        &lt;/ListBox&gt;</code></pre>\n\nIs there anyway I can retain the colour change and the selection style<br />\n",
    "PostedDate": "2013-06-22T10:58:31.32-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1059976",
    "ThreadId": "447894",
    "Html": "To fix it  you have to edit  your FirstFloor.ModernUI project folder, that's assuming you added the project to your solution and didn't reference its library instead.\r<br />\nYou need to access the Assets folder, and then open the ListBox.xaml folder, at the bottom of it you'll see a style template with its target being a listbox, below it copy and past this code...\r<br />\n<br />\n[Location: FirstFloor.ModernUi &gt; Assets &gt; ListBox.xaml ]<br />\n<pre><code>    &lt;Style x:Key=&quot;muiListBox&quot;\n           TargetType=&quot;ListBox&quot;&gt;\n        &lt;Setter Property=&quot;FocusVisualStyle&quot;\n                Value=&quot;{x:Null}&quot; /&gt;\n        &lt;Setter Property=&quot;Stylus.IsFlicksEnabled&quot;\n                Value=&quot;False&quot; /&gt;\n        &lt;Setter Property=&quot;ItemContainerStyle&quot;\n                Value=&quot;{StaticResource FlatListBoxItem}&quot; /&gt;\n        &lt;Setter Property=&quot;Template&quot;&gt;\n            &lt;Setter.Value&gt;\n                &lt;ControlTemplate TargetType=&quot;ListBox&quot;&gt;\n                    &lt;ScrollViewer Padding=&quot;{TemplateBinding Padding}&quot;\n                                  Focusable=&quot;false&quot;&gt;\n                        &lt;ItemsPresenter SnapsToDevicePixels=&quot;{TemplateBinding SnapsToDevicePixels}&quot; /&gt;\n                    &lt;/ScrollViewer&gt;\n                &lt;/ControlTemplate&gt;\n            &lt;/Setter.Value&gt;\n        &lt;/Setter&gt;\n    &lt;/Style&gt;</code></pre>\n\nOnce you have done that go back to your own application where you have the actual ListBox.\r<br />\nOn the style template you need to add a property called BasedOn and modify its value like I've shown below.<br />\n<pre><code>&lt;Style TargetType=&quot;{x:Type ListBoxItem}&quot; BasedOn=&quot;{StaticResource muiListBox}&quot;&gt;\n     &lt;Style.Triggers&gt;\n         &lt;Trigger Property=&quot;IsKeyboardFocusWithin&quot; Value=&quot;True&quot;&gt;\n             &lt;Setter Property=&quot;IsSelected&quot; Value=&quot;True&quot; /&gt;\n         &lt;/Trigger&gt;                        \n    &lt;/Style.Triggers&gt;\n&lt;/Style&gt;</code></pre>\n\nWhen you create a new style template on a ListBox or any other control, that style template automatically overrides any previous templates which were on it, by using the BasedOn property you're able to inherit the original templates properties whilst overriding only the properties you've specified.\r<br />\n<br />\nAnd as you'll notice, all I did was simply add a Key to the ListBox template in the MUI project so that we could reference from our own project afterwards.<br />\n",
    "PostedDate": "2013-06-22T21:41:36.657-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]