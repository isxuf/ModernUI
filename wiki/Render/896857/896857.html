<div class="wikidoc"><h1>Creating a custom theme</h1>
Modern UI for WPF includes two built-in themes (dark and light). As of version 1.0.3 you can build your own custom theme. A Modern UI app typically has the following defined in the global resource dictionary App.xaml:<br /><br /><div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">&lt;</span><span style="color:#A31515;">ResourceDictionary</span><span style="color:Blue;">&gt;</span>
 <span style="color:Blue;">&lt;</span><span style="color:#A31515;">ResourceDictionary.MergedDictionaries</span><span style="color:Blue;">&gt;</span>
  <span style="color:Blue;">&lt;</span><span style="color:#A31515;">ResourceDictionary</span> <span style="color:Red;">Source</span><span style="color:Blue;">=</span><span style="color:Black;">&quot;</span><span style="color:Blue;">/FirstFloor.ModernUI;component/Assets/ModernUI.xaml</span><span style="color:Black;">&quot;</span> <span style="color:Blue;">/&gt;</span>
  <span style="color:Blue;">&lt;</span><span style="color:#A31515;">ResourceDictionary</span> <span style="color:Red;">Source</span><span style="color:Blue;">=</span><span style="color:Black;">&quot;</span><span style="color:Blue;">/FirstFloor.ModernUI;component/Assets/ModernUI.Light.xaml</span><span style="color:Black;">&quot;</span><span style="color:Blue;">/&gt;</span>
 <span style="color:Blue;">&lt;/</span><span style="color:#A31515;">ResourceDictionary.MergedDictionaries</span><span style="color:Blue;">&gt;</span>
<span style="color:Blue;">&lt;/</span><span style="color:#A31515;">ResourceDictionary</span><span style="color:Blue;">&gt;</span>
</pre></div>The <span class="codeInline"> /FirstFloor.ModernUI;component/Assets/ModernUI.xaml </span> dictionary contains the Modern UI styles for the core WPF controls (Button, TextBlock, ListBox, etc). The second dictionary contains brushes and other resources defining the theme. If you want to use a custom theme, you need to replace the second dictionary with your own version.<br />
<h2>Create a new theme</h2>The following steps describe how to create a new theme.<br />1) Make sure you have installed the latest <a href="http://visualstudiogallery.msdn.microsoft.com/7a4362a7-fe5d-4f9d-bc7b-0c0dc272fe31">Modern UI for WPF Templates extension</a> for Visual Studio 2012.<br /><br />2) <a href="https://mui.codeplex.com/wikipage?title=My%20first%20Modern%20UI%20app%20using%20templates">Create a new</a> or open an existing Modern UI project<br /><br />3) Add a new <b>Assets</b> folder to your project<br /><br />4) Add a new item to the <b>Assets</b> folder. In the Add New Item dialog navigate to <b>Visual C# Items</b> &gt; <b>Modern UI for WPF</b> and select <b>Modern UI Theme</b>. Rename the file to <b>ModernUI.MyTheme</b> and select <b>Add</b>.<br /><br />5) Open App.xaml and replace the current theme with the new theme;<br /><br /><div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">&lt;</span><span style="color:#A31515;">ResourceDictionary</span><span style="color:Blue;">&gt;</span>
  <span style="color:Blue;">&lt;</span><span style="color:#A31515;">ResourceDictionary.MergedDictionaries</span><span style="color:Blue;">&gt;</span>
    <span style="color:Blue;">&lt;</span><span style="color:#A31515;">ResourceDictionary</span> <span style="color:Red;">Source</span><span style="color:Blue;">=</span><span style="color:Black;">&quot;</span><span style="color:Blue;">/FirstFloor.ModernUI;component/Assets/ModernUI.xaml</span><span style="color:Black;">&quot;</span> <span style="color:Blue;">/&gt;</span>
    <span style="color:Blue;">&lt;</span><span style="color:#A31515;">ResourceDictionary</span> <span style="color:Red;">Source</span><span style="color:Blue;">=</span><span style="color:Black;">&quot;</span><span style="color:Blue;">/Assets/ModernUI.MyTheme.xaml</span><span style="color:Black;">&quot;</span><span style="color:Blue;">/&gt;</span>
  <span style="color:Blue;">&lt;/</span><span style="color:#A31515;">ResourceDictionary.MergedDictionaries</span><span style="color:Blue;">&gt;</span>
<span style="color:Blue;">&lt;/</span><span style="color:#A31515;">ResourceDictionary</span><span style="color:Blue;">&gt;</span>
</pre></div>6) Compile and run the project. Your application now uses a new theme similar to the following image;<br /><br /><img src="http://download-codeplex.sec.s-msft.com/Download?ProjectName=mui&DownloadId=890191" alt="mui.newtheme.png" title="mui.newtheme.png" /><br />
<h2>Customize the theme</h2>A custom theme typically derives from the light or dark theme. By deriving from a built-in theme all required resources are automatically included. All you need to do is override those resources that you need to change. Alternatively you may choose to not override the built-in themes, but that requires you to provide a value for all theme resources.<br /><br />Deriving from a built-in theme is as simple as adding a MergedDictionary reference to either the light or dark theme;<br /><br /><div style="color:Black;background-color:White;"><pre>
 <span style="color:Green;">&lt;!-- derive from Light or Dark theme--&gt;</span>
<span style="color:Blue;">&lt;</span><span style="color:#A31515;">ResourceDictionary.MergedDictionaries</span><span style="color:Blue;">&gt;</span>
 <span style="color:Blue;">&lt;</span><span style="color:#A31515;">ResourceDictionary</span> <span style="color:Red;">Source</span><span style="color:Blue;">=</span><span style="color:Black;">&quot;</span><span style="color:Blue;">/FirstFloor.ModernUI;component/Assets/ModernUI.Light.xaml</span><span style="color:Black;">&quot;</span> <span style="color:Blue;">/&gt;</span>
<span style="color:Blue;">&lt;/</span><span style="color:#A31515;">ResourceDictionary.MergedDictionaries</span><span style="color:Blue;">&gt;</span>
</pre></div>By adding the following brush resource to your custom theme, the Background of all buttons will be Red:<br /><br /><div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">&lt;</span><span style="color:#A31515;">SolidColorBrush</span> <span style="color:Red;">x:Key</span><span style="color:Blue;">=</span><span style="color:Black;">&quot;</span><span style="color:Blue;">ButtonBackground</span><span style="color:Black;">&quot;</span> <span style="color:Red;">Color</span><span style="color:Blue;">=</span><span style="color:Black;">&quot;</span><span style="color:Blue;">Red</span><span style="color:Black;">&quot;</span> <span style="color:Blue;">/&gt;</span>
</pre></div>See the <a href="https://mui.codeplex.com/wikipage?title=Theme%20resource%20reference&referringTitle=Creating%20a%20custom%20theme">Theme resource reference</a> for a complete overview of all resources that are required by a theme.<br /><br /></div><div class="ClearBoth"></div>