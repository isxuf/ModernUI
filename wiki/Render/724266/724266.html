<div class="wikidoc"><h1>Link navigation with BBCodeBlock</h1>
The BBCodeBlock control is used for simple rich text formatting and includes support for link navigation. Link navigation is performed by an instance of <b>ILinkNavigator</b> assigned to the BBCodeBlock.LinkNavigator property. The default value is an instance of <b>DefaultLinkNavigator</b>. DefaultLinkNavigator supports navigation to external urls, internal pages and command execution.<br />
<h2>External navigation</h2>An absolute url with scheme http, https and mailto is opened in the default browser when clicked.<br /><br /><div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">&lt;</span><span style="color:#A31515;">mui</span><span style="color:Blue;">:</span><span style="color:#A31515;">BBCodeBlock</span> <span style="color:Red;">BBCode</span><span style="color:Blue;">=</span><span style="color:Black;">&quot;</span><span style="color:Blue;">[url=http://www.google.com]go to google[/url]</span><span style="color:Black;">&quot;</span> <span style="color:Blue;">/&gt;</span>
</pre></div><h2>Internal navigation</h2>Relative urls are by default opened in the same <b>ModernFrame</b> instance that is hosting the BBCodeBlock defining the link. Selecting the following link will cause the ModernFrame to load the XAML page <i>/Pages/MyPage.xaml</i>.<br /><br /><div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">&lt;</span><span style="color:#A31515;">mui</span><span style="color:Blue;">:</span><span style="color:#A31515;">BBCodeBlock</span> <span style="color:Red;">BBCode</span><span style="color:Blue;">=</span><span style="color:Black;">&quot;</span><span style="color:Blue;">[url=/Pages/MyPage.xaml]go to my page[/url]</span><span style="color:Black;">&quot;</span> <span style="color:Blue;">/&gt;</span>
</pre></div>When navigating to an internal page, you can specify the target frame. The target frame is set by appending a &#39;|&#39; character to the url followed by the frame name.  The following target names are supported:
<ul><li><b>_self</b>, loads the page in the same frame where the BBCodeBlock resides. This effectively replaces the current page. </li>
<li><b>_parent</b>, load the page in the parent frame</li>
<li><b>_top</b>, loads the page in the top most frame found in the application. This is usually the <b>ModernFrame</b> instance defined in the <b>ModernWindow</b> template.</li>
<li><b>(name)</b>: loads the page in the frame having specified name</li></ul>
The following link loads the XAML page in the top-most frame.<br /><br /><div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">&lt;</span><span style="color:#A31515;">mui</span><span style="color:Blue;">:</span><span style="color:#A31515;">BBCodeBlock</span> <span style="color:Red;">BBCode</span><span style="color:Blue;">=</span><span style="color:Black;">&quot;</span><span style="color:Blue;">[url=/Pages/MyPage.xaml|_top]go to my page[/url]</span><span style="color:Black;">&quot;</span> <span style="color:Blue;">/&gt;</span>
</pre></div><h2>Executing commands</h2>BBCodeBlock links can also be used to trigger the execution of an <b>ICommand</b> instance. To add support for command links, the command need to be registered with the <b>ILinkNavigator</b> instance associated with the BBCodeBlock. The ILinkNavigator interface includes a <b>Commands</b> property of type <b>CommandCollection</b> that is used to map a command to a uri.<br /><br />Links that refer to registered commands are automatically enabled and disabled based on the CanExecute state of the ICommand.<br /><br />The following XAML snippet registers a custom command and defines a link that executes the command when clicked.<br /><br /><div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">&lt;</span><span style="color:#A31515;">mui</span><span style="color:Blue;">:</span><span style="color:#A31515;">BBCodeBlock</span> <span style="color:Red;">BBCode</span><span style="color:Blue;">=</span><span style="color:Black;">&quot;</span><span style="color:Blue;">[url=cmd://mycommand]execute my command[/url]</span><span style="color:Black;">&quot;</span><span style="color:Blue;">&gt;</span>
  <span style="color:Blue;">&lt;</span><span style="color:#A31515;">mui</span><span style="color:Blue;">:</span><span style="color:#A31515;">BBCodeBlock.LinkNavigator</span><span style="color:Blue;">&gt;</span>
    <span style="color:Blue;">&lt;</span><span style="color:#A31515;">mui</span><span style="color:Blue;">:</span><span style="color:#A31515;">DefaultLinkNavigator</span><span style="color:Blue;">&gt;</span>
      <span style="color:Blue;">&lt;</span><span style="color:#A31515;">mui</span><span style="color:Blue;">:</span><span style="color:#A31515;">DefaultLinkNavigator.Commands</span><span style="color:Blue;">&gt;</span>
        <span style="color:Blue;">&lt;</span><span style="color:#A31515;">sample</span><span style="color:Blue;">:</span><span style="color:#A31515;">MyCommand</span> <span style="color:Red;">x:Key</span><span style="color:Blue;">=</span><span style="color:Black;">&quot;</span><span style="color:Blue;">cmd://mycommand</span><span style="color:Black;">&quot;</span> <span style="color:Blue;">/&gt;</span>
      <span style="color:Blue;">&lt;/</span><span style="color:#A31515;">mui</span><span style="color:Blue;">:</span><span style="color:#A31515;">DefaultLinkNavigator.Commands</span><span style="color:Blue;">&gt;</span>
    <span style="color:Blue;">&lt;/</span><span style="color:#A31515;">mui</span><span style="color:Blue;">:</span><span style="color:#A31515;">DefaultLinkNavigator</span><span style="color:Blue;">&gt;</span>
  <span style="color:Blue;">&lt;/</span><span style="color:#A31515;">mui</span><span style="color:Blue;">:</span><span style="color:#A31515;">BBCodeBlock.LinkNavigator</span><span style="color:Blue;">&gt;</span>
<span style="color:Blue;">&lt;/</span><span style="color:#A31515;">mui</span><span style="color:Blue;">:</span><span style="color:#A31515;">BBCodeBlock</span><span style="color:Blue;">&gt;</span>
</pre></div>You can supply a command parameter by appending a &#39;|&#39; character and adding a parameter value. Please note that the parameter value may not contain whitespace characters and should be url encoded.<br /><br />The following link executes a custom command while providing the command parameter string value &#39;my parameter&#39;;<br /><br /><div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">&lt;</span><span style="color:#A31515;">mui</span><span style="color:Blue;">:</span><span style="color:#A31515;">BBCodeBlock</span> <span style="color:Red;">BBCode</span><span style="color:Blue;">=</span><span style="color:Black;">&quot;</span><span style="color:Blue;">[url=cmd://mycommand|my%20parameter]execute my command[/url]</span><span style="color:Black;">&quot;</span> <span style="color:Blue;">/&gt;</span>
</pre></div><br />For more details on implementing ICommand and registering it for use in a BBCodeBlock see  <a href="https://mui.codeplex.com/discussions/441838">BBCode executing command with parameter</a>.<br /><br /></div><div class="ClearBoth"></div>