<div class="wikidoc"><h1>Per-monitor DPI Awareness</h1>
Per-monitor DPI awareness, introduced in Windows 8.1, enables an application to scale its window appropriately for the screen it is rendered on. With multiple monitors having different DPI settings, the operation system signals a window when it is dragged to a screen that has a different DPI than the screen it is moving from.<br />
<h2>Support</h2>Prior to Windows 8.1, per-monitor DPI awereness didn&#39;t exist, the operation system provided a single system DPI, which WPF automatically supports.<br /><br />As of release 1.0.6, Modern UI automatically enables per-monitor DPI awareness when supported by the host OS. The new base class <b>DpiAwareWindow</b> implements all the necessary functionality for scaling to the current monitor DPI settings. Both ModernWindow and ModernDialog derive from DpiAwareWindow.<br />
<h2>Requirements</h2>For a ModernUI application to support per-monitor DPI awareness there are two requirements:<br />
<ol><li>Obviously the host OS must be Windows 8.1 or higher. If a ModernUI app is running on an OS not supporting per-monitor DPI awareness, it automatically falls back to SystemDPI awareness, the WPF default setting.</li>
<li>In order to enable PerMonitorDpiAwareness for a process, it must initially be set to DPI unaware. This can be achieved by adding the following assembly attribute to the AssemblyInfo.cs of your application:</li></ol>
<div style="color:Black;background-color:White;"><pre>
<span style="color:Blue;">using</span> System.Windows.Media;
[<span style="color:Blue;">assembly</span>: DisableDpiAwareness]
</pre></div>
<h2>DPI API</h2>ModernUI exposes an API that can be used to query the current DPI settings.<br />
<h3>DpiAwareWindow</h3>property <b>DpiInformation</b><br />Exposes information about the current DPI settings for the window.<br /><br />event <b>DpiChanged</b> and method <b>OnDpiChanged</b><br />Occurs when the DPI settings changed for the screen that the window is rendered on. Override OnDpiChanged or handle the DpiChanged event to act on DPI changes. You could for instance load high/low DPI image assets.<br />
<h3>ModernUIHelper</h3>Contains helper methods for getting and setting the DPI awareness for the current process.<br /><br />method <b>GetDpiAwereness</b><br />Queries the current DPI awareness of the process. Returns DpiUnaware, SystemDpiAware or PerMonitorDpiAware <br /><br />method <b>TrySetPerMonitorDpiAware</b><br />Attempts to set the DPI awareness to PerMonitorDpiAware. When PerMonitorDpiAware is not supported by the host OS, the awareness is set to SystemDpiAware. The initial DPI awareness of the process must be set to DpiUnaware for the operation to succeed. Any failures are silently dropped, the return value signals whether the operation was successful.<br />This method is used internally by DpiAwareWindow, there is no need to invoke this method explicitly.<br /><br />ModernUI&#39;s implementation of per-monitor DPI awareness is largely based on MSDN article <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/ee308410(v=vs.85).aspx">Developing a Per-Monitor DPI-Aware WPF Application</a>.<br /></div><div class="ClearBoth"></div>